{% extends "layouts/main.njk" %}
{% set cache_buster = "" | currentTime %}
{% block hscripts %}
<link rel="stylesheet" href="/style/settings.css?cb={{cache_buster}}">
{% endblock %}
{% block body %}
{% include "partials/controls.njk" %}
<ul class="settings-container">

    {% set rendered_feature = false %}

    {% for signal in "dashboard_signals_config" | getParam %}

    {% if signal.type == "feature" %}

    {% if not rendered_feature %}{% set rendered_feature = true %}
    <li class="settings-container--header {{ signal.theme }}">
        <p>Featured</p>
    </li>
    {% endif %}

    <li>
        <div class="settings-editor {{ signal.theme }}" data-editor-id="{{ loop.index0  }}">
            <label><input type="checkbox" checked/>🟢</label>
            <button/>
            {{ signal.emoji }}</button>
            <input type="text" value="{{ signal.label }}"/>
        </div>
    </li>

    {% endif %}

    {% endfor %}

</ul>
<ul id="emoji-widget">
    <li>✨</li>
    <li>📢</li>
    <li>❤</li>
    <li>⏰</li>
    <li>🥊</li>
    <li>🧐</li>
    <li>🎬</li>
    <li>👾</li>
    <li>🌟</li>
    <li>🍕</li>
</ul>
{% endblock %}
{% block fscripts %}
<script>
    document.addEventListener("DOMContentLoaded", () => {
        socketWatchReload();
    });
</script>
{% endblock %}
